<!DOCTYPE html>
<html lang="pl" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      th:replace="fragments :: base(${pageTitle}, ~{::content})">
<div th:fragment="content">
    <link rel="stylesheet" th:href="@{/css/forms.css}" />
    <section>
        <div class="max-w-3xl mx-auto">

            <div class="flex items-center justify-between mb-6">
                <h1 class="text-3xl font-bold tracking-tight"
                    th:text="#{room.form.title}">
                    Dodaj nowƒÖ salƒô
                </h1>

                <a sec:authorize="hasRole('ROLE_ADMIN')"
                   th:href="@{/panel/admin}"
                   class="text-sm text-red-600 hover:text-red-700 font-medium"
                   th:text="#{link.back_to_panel}">
                    ‚Üê Powr√≥t do panelu
                </a>
                <a sec:authorize="hasRole('ROLE_INSTRUCTOR')"
                   th:href="@{/panel/instructor}"
                   class="text-sm text-green-600 hover:text-green-700 font-medium"
                   th:text="#{link.back_to_panel}">
                    ‚Üê Powr√≥t do panelu
                </a>
            </div>

            <form th:action="@{/rooms/new}"
                  th:object="${roomForm}"
                  method="post"
                  class="form-card">

                <div class="form-group">
                    <label for="name" th:text="#{room.label.name}">Nazwa sali</label>
                    <input type="text"
                           id="name"
                           th:field="*{name}"
                           aria-describedby="name-error">
                    <p th:if="${#fields.hasErrors('name')}"
                       th:errors="*{name}"
                       id="name-error"
                       class="error"></p>
                </div>

                <div class="form-group">
                    <label for="location" th:text="#{room.label.location}">Lokalizacja (opcjonalnie)</label>
                    <input type="text"
                           id="location"
                           th:field="*{location}"
                           aria-describedby="location-error">
                    <p class="muted" th:text="#{room.help.location}">Np. ‚ÄûBudynek B, 1 piƒôtro‚Äù.</p>
                    <p th:if="${#fields.hasErrors('location')}"
                       th:errors="*{location}"
                       id="location-error"
                       class="error"></p>
                </div>

                <div class="form-group">
                    <label for="capacity" th:text="#{room.label.capacity}">Pojemno≈õƒá</label>
                    <input type="number"
                           id="capacity"
                           th:field="*{capacity}"
                           aria-describedby="capacity-error">
                    <p th:if="${#fields.hasErrors('capacity')}"
                       th:errors="*{capacity}"
                       id="capacity-error"
                       class="error"></p>
                </div>

                <div class="form-group">
                    <label for="active" th:text="#{room.label.active}">Sala jest aktywna</label>
                    <input type="checkbox"
                           id="active"
                           th:field="*{active}">
                    <p class="muted" th:text="#{room.help.active}">
                        Odznaczenie tego pola ukryje salƒô przy tworzeniu nowych zajƒôƒá.
                    </p>
                </div>

                <div class="actions" style="justify-content: flex-end; border-top: 1px solid var(--border); padding-top: .75rem; margin-top:.5rem;">
                    <a th:href="@{/panel/admin}" class="btn btn-secondary" th:text="#{btn.cancel}">
                        Anuluj
                    </a>
                    <button type="submit" class="btn">
                        <span class="text-lg">üíæ</span> <span th:text="#{room.btn.save}">Zapisz salƒô</span>
                    </button>
                </div>

            </form>
        </div>
    </section>
</div>
</html>
