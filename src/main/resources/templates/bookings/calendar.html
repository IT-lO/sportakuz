<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="pl" th:replace="~{fragments :: base('Kalendarz Zajęć Sportowych', ~{::content})}">
<div th:fragment="content">
    <link rel="stylesheet" th:href="@{/css/calendar.css}" />

    <script th:inline="javascript">
        /*<![CDATA[*/
        window.__activities = /*[[${activities}]]*/ [];
        window.__locale = /*[[${#locale.language}]]*/ 'pl';
        /*]]>*/
    </script>

    <div class="container">
        <div class="header">
            <h1 id="page-title" th:text="#{calendar.title}">Kalendarz Zajęć Sportowych</h1>
            <p th:text="#{calendar.subtitle}">Wybierz zajęcia i zarezerwuj swoje miejsce</p>
        </div>

        <div class="week-navigation">
            <button class="nav-button" id="prev-week" th:text="#{calendar.nav.prev}">← Poprzedni tydzień</button>
            <div class="week-display" id="week-display"></div>
            <button class="nav-button" id="next-week" th:text="#{calendar.nav.next}">Następny tydzień →</button>
        </div>

        <div class="calendar">
            <div class="calendar-header" id="calendar-header"></div>
            <div class="calendar-body" id="calendar-body"></div>
        </div>
    </div>

    <div class="modal" id="modal">
        <div class="modal-content">
            <div id="success-message" style="display: none;" class="success-message"></div>

            <div class="modal-header">
                <h2 id="modal-title"></h2>
            </div>

            <div class="modal-details">
                <div class="detail-row">
                    <div class="detail-label" th:text="#{calendar.label.date}">Data:</div>
                    <div class="detail-value" id="modal-date"></div>
                </div>
                <div class="detail-row">
                    <div class="detail-label" th:text="#{calendar.label.time}">Godzina:</div>
                    <div class="detail-value" id="modal-time"></div>
                </div>
                <div class="detail-row">
                    <div class="detail-label" th:text="#{calendar.label.room}">Sala:</div>
                    <div class="detail-value" id="modal-room"></div>
                </div>
                <div class="detail-row">
                    <div class="detail-label" th:text="#{calendar.label.instructor}">Instruktor:</div>
                    <div class="detail-value" id="modal-instructor"></div>
                </div>
                <div class="detail-row" id="row-substituted-for" style="display:none;">
                    <div class="detail-label" th:text="#{calendar.label.substitution}">Zastępstwo:</div>
                    <div class="detail-value" id="modal-substituted-for"></div>
                </div>
                <div class="detail-row">
                    <div class="detail-label" th:text="#{calendar.label.spots}">Miejsca:</div>
                    <div class="detail-value" id="modal-spots"></div>
                </div>
                <div class="detail-row">
                    <div class="detail-label" th:text="#{calendar.label.level}">Poziom:</div>
                    <div class="detail-value" id="modal-level"></div>
                </div>
            </div>

            <div class="modal-actions">
                <button class="btn btn-secondary" id="close-modal" th:text="#{calendar.btn.cancel}">Anuluj</button>
                <button class="btn btn-primary" id="confirm-booking" th:text="#{calendar.btn.book}">Zarezerwuj</button>
            </div>
        </div>
    </div>

    <script th:src="@{/js/calendar.js}"></script>
</div>
</html>