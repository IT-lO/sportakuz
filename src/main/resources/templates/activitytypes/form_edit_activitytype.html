<!DOCTYPE html>
<html lang="pl" xmlns:th="http://www.thymeleaf.org"
      th:replace="fragments :: base(${pageTitle}, ~{::content})">
<div th:fragment="content">
    <link rel="stylesheet" th:href="@{/css/forms.css}" />
<section>
    <div class="max-w-3xl mx-auto">

        <div class="flex items-center justify-between mb-6">
            <h1 class="text-3xl font-bold tracking-tight" th:text="${pageTitle}">
                Edytuj typ zajÄ™Ä‡
            </h1>
            <a th:href="@{/activitytypes}" class="text-sm text-blue-600 hover:text-blue-700 font-medium">
                â† WrÃ³Ä‡ do listy
            </a>
        </div>

        <form th:action="@{/activitytypes/edit/{id}(id=${activityTypeId})}"
              th:object="${activityTypeForm}"
              method="post"
              class="form-card">

            <!-- Nazwa typu zajÄ™Ä‡ -->
            <div class="form-group">
                <label for="activityName">Nazwa typu zajÄ™Ä‡</label>
                <input type="text"
                       id="activityName"
                       th:field="*{activityName}"
                       aria-describedby="activityName-error">
                <p th:if="${#fields.hasErrors('activityName')}"
                   th:errors="*{activityName}"
                   id="activityName-error"
                   class="error"></p>
            </div>

            <!-- DomyÅ›lny czas trwania -->
            <div class="form-group">
                <label for="duration">DomyÅ›lny czas trwania (w minutach)</label>
                <input type="number"
                       id="duration"
                       th:field="*{duration}"
                       aria-describedby="duration-error">
                <p class="muted">Np. â€60â€ (w minutach). Wymagane â€“ minimum 1 minuta.</p>
                <p th:if="${#fields.hasErrors('duration')}"
                   th:errors="*{duration}"
                   id="duration-error"
                   class="error"></p>
            </div>

            <!-- Poziom trudnoÅ›ci -->
            <div class="form-group">
                <label for="difficulty">Poziom trudnoÅ›ci</label>
                <select id="difficulty"
                        th:field="*{difficulty}"
                        aria-describedby="difficulty-error">
                    <option value="">-- Wybierz poziom --</option>
                    <option th:each="level : ${difficultyLevels}"
                            th:value="${level}"
                            th:text="${level.displayName}">
                        Dla poczÄ…tkujÄ…cych
                    </option>
                </select>
                <p class="muted">Wybierz poziom trudnoÅ›ci z listy.</p>
                <p th:if="${#fields.hasErrors('difficulty')}"
                   th:errors="*{difficulty}"
                   id="difficulty-error"
                   class="error"></p>
            </div>

            <!-- Opis -->
            <div class="form-group">
                <label for="description">Opis (opcjonalnie)</label>
                <textarea id="description"
                          th:field="*{description}"
                          rows="5"
                          aria-describedby="description-error"></textarea>
                <p class="muted">Rozszerzony opis typu zajÄ™Ä‡, widoczny dla uÅ¼ytkownikÃ³w.</p>
                <p th:if="${#fields.hasErrors('description')}"
                   th:errors="*{description}"
                   id="description-error"
                   class="error"></p>
            </div>

            <!-- Przyciski -->
            <div class="actions" style="justify-content: flex-end; border-top: 1px solid var(--border); padding-top: .75rem; margin-top:.5rem;">
                <a th:href="@{/activitytypes}" class="btn btn-secondary">
                    Anuluj
                </a>
                <button type="submit" class="btn">
                    <span class="text-lg">ğŸ’¾</span> Zapisz zmiany
                </button>
            </div>

        </form>
    </div>
</section>
</div>
</html>
